<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="{{ url_for('static', filename='dashboard.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='games_library.css') }}">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Games Library</title>
</head>
<body>
    <!-- Top Beam -->
    <div class="top-beam">
        <!-- Centered content in the top beam -->
        <h1>Games Library</h1>
        <!-- Add other elements as needed -->
    </div>
    <!-- Left Beam -->
    <div class="left-beam">
        <!-- Logo in Left Beam -->
        <img src="https://store.cloudflare.steamstatic.com/public/shared/images/header/logo_steam.svg?t=962016" alt="Steam Logo">

        <!-- Search Bar -->
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search for a game..." oninput="filterGames()">
            <button type="button" onclick="search()">Search</button>
        </div>

        <!-- Dropdown for Sorting -->
        <div class="sorting-dropdown">
            <label for="sortOption">Sort by:</label>
            <select id="sortOption" onchange="sortGames()">
                <option value="alphabetical">Alphabetically</option>
                <option value="positiveRatings">Positive Ratings</option>
                <option value="negativeRatings">Negative Ratings</option>
                <option value="priceLowToHigh">Price (Low to High)</option>
                <option value="priceHighToLow">Price (High to Low)</option>
            </select>
            <!-- Add the datalist element for game names -->
            <datalist id="gameNames"></datalist>
        </div>

        <select id="namesMenu" size="5"></select>

        <script>
            // Fetch data from steam.json
            fetch('steam.json')
                .then(response => response.json())
                .then(data => {
                    // Extract names from the steamData
                    var names = data.map(function(game) {
                        return game.name;
                    });

                    // Populate the menu with names
                    var namesMenu = document.getElementById("namesMenu");
                    names.forEach(function(name) {
                        var option = document.createElement("option");
                        option.text = name;
                        namesMenu.add(option);
                    });
                })
                .catch(error => console.error('Error fetching data:', error));
        </script>
    </div>
</body>
</html>
